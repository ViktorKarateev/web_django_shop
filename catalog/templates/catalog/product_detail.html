{% extends 'catalog/base.html' %}

{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<h1 class="text-primary mb-4">{{ product.name }}</h1>

<div class="card mb-4">
  {% if product.image %}
    <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
  {% endif %}

  <div class="card-body">
    <p class="card-text">{{ product.description }}</p>
    <p class="card-text"><strong>Цена:</strong> {{ product.price }} ₽</p>
    <p class="card-text"><strong>Категория:</strong> {{ product.category.name }}</p>
    <p class="card-text"><strong>Дата создания:</strong> {{ product.created_at|date:"d.m.Y H:i" }}</p>
    <p class="card-text"><strong>Дата изменения:</strong> {{ product.updated_at|date:"d.m.Y H:i" }}</p>

    <div class="mt-3">
      {% if request.user.is_authenticated %}
        {% if product.owner == request.user or request.user.has_perm('catalog.delete_product') %}
          <a href="{% url 'catalog:product_update' product.pk %}" class="btn btn-warning">Редактировать</a>
          <a href="{% url 'catalog:product_delete' product.pk %}" class="btn btn-danger">Удалить</a>
        {% endif %}
      {% endif %}
      <a href="{% url 'catalog:home' %}" class="btn btn-secondary">← Назад</a>
    </div>
  </div>
</div>
{% endblock %}
